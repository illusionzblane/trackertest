<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Brian Paragas Portfolio</title>
  <meta name="description" content="a portfolio website">
  <meta name="author" content="brian paragas">

  <link rel="icon" href="/favicon.ico">
  <link rel="icon" href="../images/bp_logo.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <link rel="stylesheet" href="https://use.typekit.net/aup0iiw.css">
  <link rel="stylesheet" href="styles.css">

  <style>
    .name{
      font-family: "aktiv-grotesk", sans-serif;
      font-weight: 800;
      font-style: normal;
      font-size: 148px;
    }
    .name {
            display: flex;
            gap: 5px;
        }

        .name span {
            opacity: 0;
            transform: translateY(-100px);
            animation: dropIn 0.5s ease-out forwards;
        }

        @keyframes dropIn {
            0% {
                opacity: 0;
                transform: translateY(-100px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .name span:nth-child(1) { animation-delay: 0s; }
        .name span:nth-child(2) { animation-delay: 0.1s; }
        .name span:nth-child(3) { animation-delay: 0.2s; }
        .name span:nth-child(4) { animation-delay: 0.3s; }
        .name span:nth-child(5) { animation-delay: 0.4s; }
        .name span:nth-child(6) { animation-delay: 0.5s; }
        .name span:nth-child(7) { animation-delay: 0.6s; }
        .name span:nth-child(8) { animation-delay: 0.7s; }
        .name span:nth-child(9) { animation-delay: 0.8s; }
        .name span:nth-child(10) { animation-delay: 0.9s; }
        .name span:nth-child(11) { animation-delay: 1s; }
        .name span:nth-child(12) { animation-delay: 1.1s; }
        .name span:nth-child(13) { animation-delay: 1.1s; }

    h1 {
      font-family: "aktiv-grotesk", sans-serif;
      font-weight: 700;
      font-style: normal;
    }
    h2{
      font-family: "aktiv-grotesk", sans-serif;
      font-weight: 700;
      font-style: normal;
    }
    h4{
      font-family: "aktiv-grotesk", sans-serif;
      font-weight: 700;
      font-style: normal;
    }
    h5{
      font-family: "aktiv-grotesk", sans-serif;
      font-weight: 300;
      font-style:  normal;
    }
    p{
      font-family: "aktiv-grotesk", sans-serif;
      font-weight: 400;
      font-style: normal;
    }
    button{
      font-family: "aktiv-grotesk", sans-serif;
      font-weight: 400;
      font-style: normal;
    }
        html,body {
    cursor: none;
        }

  </style>

</head>

<body>
  <header>
    <div class="navigation">
      <div class="logo">
        <a href="/">
        <img src="../images/bp_logo.svg" alt="BP Logo" />
        </a>
      </div>
      <div class="navItems">
        <div class="navContainer">
          <ul>
            <li><a href="/">Home</a></li>
            <li><a href="projects.html">Projects</a></li>
            <li><a href="info.html">My Info</a></li>
          </ul>
          <a href="mailto:brianparagas49@gmail.com">
            <button>Let's Chat!</button>
          </a>          
        </div>
      </div>
    </div>
    </header>
    <div class="cursor">
      <div class="cursor__ball cursor__ball--big ">
        <svg height="30" width="30">
          <circle cx="15" cy="15" r="12" stroke-width="0"></circle>
        </svg>
      </div>
      
      <div class="cursor__ball cursor__ball--small">
        <svg height="10" width="10">
          <circle cx="5" cy="5" r="4" stroke-width="0"></circle>
        </svg>
      </div>
    </div>
    <div class="outerContainer">
      <div class="introName">
        <div class="name">
          <span>B</span>
          <span>R</span>
          <span>I</span>
          <span>A</span>
          <span>N</span>
          <span>&nbsp;</span>
          <span>P</span>
          <span>A</span>
          <span>R</span>
          <span>A</span>
          <span>G</span>
          <span>A</span>
          <span>S</span>
      </div>
      <div class="innerContainer">
        <div class="services">
          <h5>/Graphic Designer</h5>
          <h5>/Digital Marketing Specialist</h5>
          <h5>/Project Manager</h5>
          <h5><a href="mailto:brianparagas49@gmail.com">brianparagas49@gmail.com</a></h5>
          <h5>This portfolio is under construction.</h5>
        </div>
        <div>
          <div class="intro">
            <h5>I'm a Project Manager with an aim to create influential designs and be a lead in the industry.</h5>
          </div>
        </div>
      </div>
    </div>
    <div class="introButtons">
      <div><h5>FEATURED PROJECTS ↓</h5></div>
      <div class="socials">
          <h5>Connect Here →</h5>
          <a href="https://www.linkedin.com/in/brianparagas/" target="_blank"><img src="../images/linkedIn_logo.svg" alt="linkedIn Logo" width="100%" /></a>
          <a href="mailto:brianparagas49@gmail.com"><img src="../images/mailIcon.svg" alt="mail Icon" width="73%" /></a>
      </div>
      <div class="arrow">
          <a href="" class="scrollDown">
          <span></span>
        </a>
      </div>
    </div>
    <div class="tracking">
      <button id="startBtn">Activate Camera For Motion Tracking</button>
      <video id="videoElement" width="640" height="480" autoplay></video>
      <div class="twoColumn">
      <canvas id="predictionCanvas" width="640" height="480"></canvas>
      <div class="button-container">
        <button id="instructions">ⓘ</button>
        <div class="overlay" id="instructionText">
          <h3>How to use my motion tracking implementation:</h3>
          <h3>Place yourself in the center of the camera</h3>
          <h3>Closed Hand = Scroll Down</h3>
          <h3>Open Hand = Stop</h3>
          <h3>Point Up = Return to Top of Page</h3>
        </div>
    </div>
      </div>
    </div>
  <div class="projectsContainer">
      <div class="projectSection">
        <h5></h5>
        <hr>
      </div>

      <div class="projectBox">
    <a href="projects/remedify.html">
      <div class="caseStudy">
        <div class="projectInfo">
        <h4>Remedify</h4>
        <h5>App Development Case Study</h5>
        <h5>Project Manager | Lead Graphic Designer</h5>
      </div>
        <img src="../images/remedify/remedifyCard.png" alt="phone mockup" width="50%" height="50%">
      </div>
    </a>
      </div>

      <div class="projectBox">
      <a href="projects/illestIllusionz.html">
        <div class="caseStudy">
          <div class="projectInfo">
          <h4>Illest Illusionz</h4>
          <h5>Brand Identity</h5>
          <h5>Graphic Designer</h5>
        </div>
          <img src="../images/illestCard2.jpg" alt="illest illusionz logo card" width="50%" height="50%">
        </div>
      </a>
    </div>

    <div class="projectBox">
      <a href="projects/bcitdanceclub.html">
        <div class="caseStudy">
          <div class="projectInfo">
          <h4>BCIT Dance Club</h4>
          <h5>Social Media Management</h5>
          <h5>Head of Social Media| Graphic Designer</h5>
        </div>
          <img src="../images/bcitdance/rosiePost.png" alt="phone mockup" width="40%" height="50%">
        </div>
      </a>
    </div>
    
    <div class="projectBox">
      <a href="projects/carclix.html">
        <div class="caseStudy">
          <div class="projectInfo">
          <h4>Car Clix Photography Poster Series</h4>
          <h5>Brand Based Poster Designs</h5>
          <h5>Graphic Designer</h5>
          </div>
          <img src="../images/carclix/Car-Clix-Posters.jpg" alt="phone mockup" width="50%" height="50%">
        </div>
      </a>
    </div>

    <div class="projectBox">
      <a href="projects/buddingwriters.html">
        <div class="caseStudy">
          <div class="projectInfo">
          <h4>Budding Writers</h4>
          <h5>Wordpress Website | Case Study</h5>
          <h5>Project Manager</h5>
        </div>
          <img src="../images/bw/bwHeader.png" alt="phone mockup" width="50%" height="50%">
        </div>
      </a>
    </div>

    <div class="projectBox">
      <a href="projects/tranquilitycranes.html">
        <div class="caseStudy">
          <div class="projectInfo">
          <h4>Tranquility Cranes</h4>
          <h5>App Development | Case Study</h5>
          <h5>Project Manager | Motion Designer | Developer</h5>
        </div>
          <img src="../images/tc/tcPhoneMockup.jpg" alt="phone mockup" width="50%" height="50%">
        </div>
      </a>
    </div>
  </div>

  <footer>
    <div class="footer">
      <p>Want to Connect?</p>
      <h4>brianparagas49@gmail.com</h4>
      <hr>
    </div>
  </footer>
  <script src="../scripts.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/handtrackjs@latest/dist/handtrack.min.js"></script>
  <script>
    let model;
    let videoElement = document.getElementById('videoElement');
    let predictionCanvas = document.getElementById('predictionCanvas');
    let context = predictionCanvas.getContext('2d');
    let cursor = document.querySelector('.cursor');
    let cursorBallBig = document.querySelector('.cursor__ball--big');
    let cursorBallSmall = document.querySelector('.cursor__ball--small');
    let isCameraActive = false; // Flag to track if camera is active

    async function loadModel() {
      const defaultParams = {
        flipHorizontal: true,
        outputStride: 16,
        imageScaleFactor: 1,
        maxNumBoxes: 2,
        iouThreshold: 0.2,
        scoreThreshold: 0.6,
        modelType: "ssd320fpnlite",
        modelSize: "large",
        bboxLineWidth: 2,
        fontSize: 17,
      };

      try {
        model = await handTrack.load(defaultParams);
        console.log('Model loaded!');
      } catch (error) {
        console.error('Error loading model:', error);
      }
    }

    async function startVideo() {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ video: true });
        videoElement.srcObject = stream;
        videoElement.play();
        isCameraActive = true;  // Camera is now active

        handTrack.startVideo(videoElement).then(status => {
          if (status) {
            console.log("Video started!");
            detectHands();
          } else {
            console.error('Failed to start video');
          }
        });
      } catch (err) {
        console.error('Error accessing webcam:', err);
      }
    }

    function stopVideo() {
      const video = document.getElementById('videoElement'); 
      const canvas = document.querySelector('canvas'); 

      if (video && video.srcObject) {
        const stream = video.srcObject;
        const tracks = stream.getTracks();
        tracks.forEach(track => track.stop()); 
        video.srcObject = null; 
      }

      handTrack.stopVideo(video).then(() => {
        console.log('Tracking Stopped');
      }).catch(err => {
        console.error('Error stopping hand tracking:', err);
      });

      if (canvas) {
        const ctx = canvas.getContext('2d');
        ctx.clearRect(0, 0, canvas.width, canvas.height);
      }

      isCameraActive = false;  // Camera is no longer active
    }

    async function detectHands() {
      const predictions = await model.detect(videoElement);
      context.clearRect(0, 0, predictionCanvas.width, predictionCanvas.height);
      model.renderPredictions(predictions, predictionCanvas, context, videoElement);

      let handClosed = false;
      let isPointing = false;

      if (predictions.length > 0) {
          predictions.forEach(prediction => {
              const [x, y, width, height] = prediction.bbox;

              // Detect closed hand (based on size)
              if (width < 100 && height < 119) { 
                  handClosed = true;
              }

              // Detect pointing gesture: hand height is greater than width and height is above 120px
              if (height > width && height > 120 && width < 85) { 
                  isPointing = true;
              }
          });
      }

      if (handClosed) {
          startScrollingDown();
      } else {
          stopScrollingDown();
      }

      if (isPointing) {
          scrollToTop();
      }

      requestAnimationFrame(detectHands);
    }

    let scrollInterval;
    let isScrollingDown = false;
    let isScrollingUp = false;

    function startScrollingDown() {
        if (!isScrollingDown) {
            isScrollingDown = true;
            scrollInterval = setInterval(() => {
                window.scrollBy({ top: 30, behavior: 'smooth' }); // Adjust scroll speed
            }, 30); // Adjust interval speed (lower is faster)
        }
    }

    function stopScrollingDown() {
        clearInterval(scrollInterval);
        isScrollingDown = false;
        scrollInterval = null;
    }

    function scrollToTop() {
        window.scrollTo({ top: 0, behavior: 'smooth' }); // Scroll to top
    }

    const startBtn = document.getElementById('startBtn');

    startBtn.addEventListener('click', async () => {
      if (startBtn.textContent === 'Activate Camera For Motion Tracking') {
        await loadModel();
        startVideo();
        startBtn.textContent = 'Stop Tracking';
      } else {
        stopVideo(); 
        startBtn.textContent = 'Activate Camera For Motion Tracking';
      }
    });
</script>

<script>
  const button = document.getElementById("instructions");
  const overlay = document.getElementById("instructionText");

  button.addEventListener("mouseenter", () => {
      overlay.style.display = "block";
  });

  button.addEventListener("mouseleave", () => {
      overlay.style.display = "none";
  });
</script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const canvas = document.getElementById("predictionCanvas");

    // Ensure the canvas is visible by default
    canvas.style.display = "block";

    // Get the initial position of the canvas on the page
    const canvasPosition = canvas.offsetTop;

    window.addEventListener("scroll", function () {
      // Only apply floating behavior if the camera is active and the user has scrolled past the initial canvas position
      if (isCameraActive) {
        if (window.scrollY > canvasPosition) {
          canvas.classList.add("canvas-floating");
        } else {
          canvas.classList.remove("canvas-floating");
        }
      }
    });
  });
</script>
</body>
</html>